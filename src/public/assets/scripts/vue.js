biigle.$viewModel("largo-container",function(e){var i=biigle.$require("messages.store"),t=biigle.$require("largo.api.volumes"),n=biigle.$require("largo.volumeId");new Vue({el:e,mixins:[biigle.$require("core.mixins.loader")],components:{labelTrees:biigle.$require("labelTrees.components.labelTrees"),sidebar:biigle.$require("core.components.sidebar"),sidebarTab:biigle.$require("core.components.sidebarTab")},data:{labelTrees:biigle.$require("largo.labelTrees"),step:0,selectedLabel:null,annotationsCache:{}},computed:{isInDismissStep:function(){return 0===this.step},isInRelabelStep:function(){return 1===this.step},annotations:function(){return this.selectedLabel&&this.annotationsCache.hasOwnProperty(this.selectedLabel.id)?this.annotationsCache[this.selectedLabel.id]:[]}},methods:{getAnnotations:function(e){if(!this.annotationsCache.hasOwnProperty(e.id)){var a=this;Vue.set(a.annotationsCache,e.id,[]),this.startLoading(),t.queryAnnotations({id:n,label_id:e.id}).then(function(i){Vue.set(a.annotationsCache,e.id,i.data)},i.handleResponseError).finally(this.finishLoading)}},handleSelectedLabel:function(e){this.selectedLabel=e,this.isInDismissStep&&this.getAnnotations(e)},handleDeselectedLabel:function(){this.selectedLabel=null}},created:function(){}})}),biigle.$declare("largo.api.volumes",Vue.resource("/api/v1/volumes{/id}/largo",{},{queryAnnotations:{method:"GET",url:"/api/v1/volumes{/id}/annotations/filter/label{/label_id}"}}));